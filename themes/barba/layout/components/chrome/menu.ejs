<% const pages = [
  {
    name: 'Features',
    subpages: [
      {
        name: 'Dependency Free',
        url: '/features/dependency-free',
      },
      {
        name: 'Small size',
        url: '/features/small-size',
      },
      {
        name: 'Open Source',
        url: '/features/open-source',
      },
      {
        name: 'Views/Namespace Logic',
        url: '/features/views-namespace-logic',
      },
      {
        name: 'Prefetch',
        url: '/features/prefetch',
      },
      {
        name: 'Change Log',
        url: '/features/change-log',
      },
    ],
  },
  {
    name: 'About',
    url: '/about',
  },
  {
    name: 'Example',
    url: '/example',
  },
  {
    name: 'Showcase',
    url: '/showcase',
  },
  {
    name: 'Docs',
    url: '/docs',
  },
] %>

<div class="menu"
     data-component="menu">

  <div class="menu__header">
    <a class="menu__header__github"
       href="#">
      <svg class="menu__header__github__icon"
           xmlns="http://www.w3.org/2000/svg"
           viewBox="0 0 50 50">
        <circle class="circle" cx="25" cy="25" r="25"/>
        <path class="shape" d="M21 38c.6 0 .5-1.1.5-1.5v-2.4c-3.9.8-4.7-1.9-4.7-1.9-.6-1.6-1.6-2.1-1.6-2.1-1.3-.9.1-.9.1-.9 1.4.1 2.1 1.4 2.1 1.4 1.2 2.1 3.3 1.5 4.1 1.2.2-.8.5-1.4.9-1.7-3.1-.4-6.4-1.6-6.4-6.9 0-1.5.5-2.8 1.4-3.8 0-.4-.5-1.8.2-3.8 0 0 1.2-.4 3.8 1.4 1.2-.2 2.4-.4 3.6-.4 1.2 0 2.4.2 3.5.5 2.7-1.8 3.8-1.4 3.8-1.4.8 1.9.3 3.4.1 3.7.9 1 1.4 2.2 1.4 3.8 0 5.4-3.3 6.6-6.4 6.9.5.4 1 1.3 1 2.6v3.9c0 .4 0 1.5.5 1.5C29 38 21 38 21 38z"/>
      </svg>
    </a>

    <div class="menu__header__trigger">
    </div>
  </div>

  <div class="menu__pages">
    <ul class="menu__pages__list">

      <% pages.forEach(function(page) { %>

        <% if(page.url) { %>

          <!-- Page without subpages -->
          <li class="menu__pages__item <%- is_current(page.url) ? 'is-active' : '' %>">
            <a class="menu__pages__item__link"
               href="<%- page.url %>">
              <%- page.name %>
            </a>
          </li>
          <!-- Page without subpages [end] -->

        <% } else { %>

          <!-- Page with subpages-->
          <li class="menu__pages__item">
            <div class="menu__pages__item__title">
              <%- page.name %>
            </div>

            <div class="menu__pages__item__subpages menu-subpages">
              <ul class="menu-subpages__list">

                <% page.subpages.forEach(function(page) { %>

                  <!-- Subpage -->
                  <li class="menu-subpages__item <%- is_current(page.url) ? 'is-active' : '' %>">
                    <a class="menu-subpages__item__link"
                       href="<%- page.url %>">
                      <div class="menu-subpages__item__link__line"></div>
                      <span class="menu-subpages__item__link__label">
                        <%- page.name %>
                      </span>
                    </a>
                  </li>
                  <!-- Subpage [end] -->

                <% }); %>

              </ul>
            </div>
          </li>
          <!-- Page with subpages [end] -->

        <% } %>

      <% }); %>

    </ul>
  </div>

  <div class="menu__footer">
    <button class="menu__footer__download">
      Download .zip
    </button>
    <div class="menu__footer__extra menu-extra">
      <a class="menu-extra__twitter"
         href="https://twitter.com/barba_js">
        <svg class="menu-extra__twitter__icon"
             xmlns="http://www.w3.org/2000/svg"
	           viewBox="0 0 16 13">
          <path d="M14.4487 3.221153c.00693.140201.00952.282132.00952.422333 0 4.318526-3.28606 9.296514-9.294778 9.296514-1.845976 0-3.562135-.540898-5.008279-1.468645.256169.03029.5158.045868.778893.045868 1.531821 0 2.939886-.522724 4.057164-1.397679-1.428835-.026829-2.636118-.970154-3.051528-2.268308.199051.037213.404159.057118.61446.057118.298575 0 .587631-.038944.861109-.113372C1.920653 7.493811.79472 6.174021.79472 4.590273v-.040676c.440507.244919.945057.392043 1.479896.409351C1.397929 4.372183.820683 3.37347.820683 2.238883c0-.598016.160972-1.159684.443104-1.642598 1.610576 1.977522 4.019085 3.277407 6.733958 3.414146-.055388-.239726-.083948-.488106-.083948-.745141C7.913797 1.461721 9.375519 0 11.17995 0c.93987 0 1.78886.395504 2.38514 1.030734.74341-.147124 1.44269-.418871 2.07445-.792739-.24405.762449-.76244 1.402872-1.43662 1.80703.66119-.07962 1.2895-.253572 1.87627-.514069-.43791.656001-.99179 1.23065-1.63049 1.690197z"/>
        </svg>
        <div class="menu-extra__twitter__label">
          barba_js
        </div>
      </a>
      <a class="menu-extra__credits"
         href="/credits">
        Credits
      </a>
    </div>
  </div>

</div>
